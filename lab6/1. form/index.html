<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>form</title>
    <link rel="stylesheet" href="jquery/jquery-ui.css">
    <script src="jquery/jquery.js"></script>
    <script src="jquery/jquery-ui.js"></script>
    <script>
        $(document).ready(function(){
            $("#password").dialog({
                autoOpen: true,
                modal: true,
                title: "Set your password",
                open: function(event, ui){
                    $(".ui-dialog-titlebar-close").hide();
                    $("h3").hide();
                    },
                buttons:{
                    Ok: function(){
                        var pass1=$("#pass1").val();
                        var pass2=$("#pass2").val();
                        if(pass1===pass2){
                            $("#password").dialog("close");
                            $("h3").hide();
                        }else $("h3").show();
                    }
                }
            })
            $("#write").dialog({
                autoOpen: false,
                modal: true,
                title: "Message content",
                buttons:{
                    Insert: function(){
                        $("#content").append($("#insertContent").val());
                        $("#write").dialog("close");
                    },
                    Clear: function(){
                        $("#content").html("");
                    }
                }
            })
            $("#sendScreen").dialog({
                autoOpen: false,
                modal: true,
                title: "Enter your password",
                buttons:{
                    Send: function(){
                        var pass1=$("#pass1").val();
                        var pass2=$("#pass3").val();
                        if(pass1===pass2){
                            $("#sendScreen").dialog("close");
                            $("h3").hide();
                            $("#success").dialog("open");
                        }else $("h3").show();
                    }
                }
            })
            $("#success").dialog({
                autoOpen: false,
                modal: true
            })
            $("#insert").click(function(){
                $info=$("#info input");
                $("#to").append($($info[0]).val())
                $("#subject").append($($info[2]).val())
                $("#cc").append($($info[1]).val())
                $("#write").dialog("open");
            })
            $("#send").click(function(){
                $("#sendScreen").dialog("open");
            })
        })
    </script>
    <style>
        h3{
            color: red;
        }
        #content{
            height: 100px;
            width: 400px;
            background: lightskyblue;
            position: absolute;
        }
        #insertContent{
            height: 100px;
            width: 400px;
            position: absolute;
        }
    </style>
</head>
<body>
<div>
    <div id="info">
    <h2>New message:</h2>
    <label>To:</label><input type="text"><br><br>
    <label>CC:</label><input type="text"><br><br>
    <label>Subject:</label><input type="text"><br><br>
    </div>
    <div>
    <label>Content:</label><br><span id="content"></span><br><br>
    </div>
    <br><br><br><br>
    <div>
    <button id="insert">Insert</button><button id="send">Send</button>
    </div>
</div>
<div id="password">
    <h3>Passwords don't match!</h3>
    <label>New password:</label><input type="password" id="pass1"><br>
    <label>Repeat password:</label><input type="password" id="pass2"><br>
</div>
<div id="write">
    <div id="to"><label>To: </label></div>
    <div id="subject"><label>Subject: </label></div>
    <div id="cc"><label>CC: </label></div>
    <textarea id="insertContent"></textarea>
</div>
<div id="sendScreen">
    <h3>Passwords don't match!</h3>
    <label>Password:</label><input type="password" id="pass3">
</div>
<div id="success">Successfully sent!</div>
</body>
</html>